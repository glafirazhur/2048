(window.webpackJsonp2048=window.webpackJsonp2048||[]).push([[0],{18:function(e,t,r){e.exports=r(38)},23:function(e,t,r){},24:function(e,t,r){},32:function(e,t,r){},33:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){"use strict";r.r(t);var o=r(0),n=r.n(o),c=r(6),s=r.n(c),a=(r(23),r(24),r(2)),i=r(3),l=r(13),u=r(10),P=r(14),p=r(15),m=r.n(p),f=r(5),d=r(17),w={tiles:[],emptyFields:[{rowPos:1,colPos:1,isEmpty:!0},{rowPos:1,colPos:2,isEmpty:!0},{rowPos:1,colPos:3,isEmpty:!0},{rowPos:1,colPos:4,isEmpty:!0},{rowPos:2,colPos:1,isEmpty:!0},{rowPos:2,colPos:2,isEmpty:!0},{rowPos:2,colPos:3,isEmpty:!0},{rowPos:2,colPos:4,isEmpty:!0},{rowPos:3,colPos:1,isEmpty:!0},{rowPos:3,colPos:2,isEmpty:!0},{rowPos:3,colPos:3,isEmpty:!0},{rowPos:3,colPos:4,isEmpty:!0},{rowPos:4,colPos:1,isEmpty:!0},{rowPos:4,colPos:2,isEmpty:!0},{rowPos:4,colPos:3,isEmpty:!0},{rowPos:4,colPos:4,isEmpty:!0}],score:{currentScore:0,bestScore:0},gameStatus:!1};function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(r,!0).forEach(function(t){Object(f.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},b=function(e,t,r){return e.map(function(e){return e.colPos===t.colPos&&e.rowPos===t.rowPos?E({},e,{isEmpty:!0}):e.colPos===r.colPos&&e.rowPos===r.rowPos?E({},e,{isEmpty:!1}):e})};function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(r,!0).forEach(function(t){Object(f.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.tiles,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TILE":return[].concat(Object(d.a)(e),[t.payload]);case"INIT_FIRST_TILES":for(var r=[],o=function(){var e=O(1,4),t=O(1,4);r.find(function(r){var o=r.rowPos,n=r.colPos;return o===e&&n===t})||r.push({rowPos:e,colPos:t,tileVal:2})};r.length<2;)o();return r;case"UPDATE_POSITION":var n=[];"left"!==t.payload.direction&&"up"!==t.payload.direction||(n=e.sort(function(e,t){return e.rowPos!==t.rowPos?e.rowPos-t.rowPos:e.colPos-t.colPos})),"right"===t.payload.direction&&(n=e.sort(function(e,t){return e.rowPos!==t.rowPos?e.rowPos-t.rowPos:t.colPos-e.colPos})),"down"===t.payload.direction&&(n=e.sort(function(e,t){return e.rowPos!==t.rowPos?t.rowPos-e.rowPos:e.colPos-t.colPos}));var c=t.payload.emptyFields,s=n.map(function(e){var r=c.filter(function(t){return t.rowPos===e.rowPos}),o=c.filter(function(t){return t.colPos===e.colPos});switch(t.payload.direction){case"left":for(var n=e.colPos,s=n-2<0?0:n-2;s>=0&&(r[s].colPos!==e.colPos&&r[s].isEmpty);s-=1)n=r[s].colPos;return n&&n!==e.colPos?(c=b(c,e,{rowPos:e.rowPos,colPos:n}),g({},e,{colPos:n})):e;case"right":for(var a=e.colPos,i=a;i<4&&(r[i].colPos!==e.colPos&&r[i].isEmpty);i+=1)a=r[i].colPos;return a&&a!==e.colPos?(c=b(c,e,{rowPos:e.rowPos,colPos:a}),g({},e,{colPos:a})):e;case"up":for(var l=e.rowPos,u=l-2<0?0:l-2;u>=0&&(o[u].rowPos!==e.rowPos&&o[u].isEmpty);u-=1)l=o[u].rowPos;return l&&l!==e.rowPos?(c=b(c,e,{rowPos:l,colPos:e.colPos}),g({},e,{rowPos:l})):e;case"down":var P=o.reduce(function(e,t){return t.isEmpty?t.rowPos<e?e:t.rowPos:e},e.rowPos);return P&&P!==e.rowPos?(c=b(c,e,{rowPos:P,colPos:e.colPos}),g({},e,{rowPos:P})):e;default:return e}});return s;default:return e}};function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(r,!0).forEach(function(t){Object(f.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.emptyFields,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_EMPTIES":var r=t.payload,o=e.map(function(e){var t=r.find(function(t){var r=t.rowPos,o=t.colPos;return r===e.rowPos&&o===e.colPos});return h({},e,t?{isEmpty:!1}:{isEmpty:!0})});return o;case"INIT_EMPTIES":return w.emptyFields;default:return e}};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(r,!0).forEach(function(t){Object(f.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.score,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SCORE":var r=e.bestScore,o=e.currentScore+t.payload;return T({},e,{currentScore:o,bestScore:r=r?Math.max(o,r):t.payload});case"CLEAR_CURRENT_SCORE":return T({},e,{currentScore:w.score.currentScore});default:return e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.gameStatus,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_GAME":return!0;case"FINISH_GAME":return!1;default:return e}},k=Object(a.c)({tiles:j,emptyFields:N,score:D,gameStatus:I}),R=r(16),A=(r(32),r(33),function(){return n.a.createElement("div",{className:"grid"},n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}))}),L=(r(34),function(e){return{type:"UPDATE_EMPTIES",payload:e}}),M=(r(35),function(e){var t=e.tileVal,r=e.rowPos,o=e.colPos;return n.a.createElement("div",{className:"number number--".concat(t," pos--").concat(r,"-").concat(o)},t)}),U=function(e){var t=e.tiles;return n.a.createElement("div",{className:"grid numbers"},t.map(function(e){return n.a.createElement(M,{key:"".concat(e.rowPos,"-").concat(e.colPos),rowPos:e.rowPos,colPos:e.colPos,tileVal:e.tileVal})}))};U.defaultProps={tiles:[]};var C=Object(i.b)(function(e){return{tiles:e.tiles}},function(e){return{addTile:function(t,r,o){return e({type:"ADD_TILE"})}}})(U),F=(r(36),function(){return function(e,t){e({type:"INIT_GAME"}),e({type:"CLEAR_CURRENT_SCORE"}),e({type:"INIT_EMPTIES"}),e({type:"INIT_FIRST_TILES"});var r=t().tiles;e(L(r))}}),G=n.a.memo(Object(i.b)(void 0,function(e){return{initGame:function(){return e(F())}}})(function(e){var t=e.initGame;return n.a.createElement("button",{type:"button",className:"start-button",onClick:t},"Start again")})),V=(r(37),n.a.memo(Object(i.b)(function(e){return{score:e.score}})(function(e){var t=e.score,r=e.scoreType,o="current"===r?"Your score":"Best score",c="current"===r?t.currentScore:t.bestScore;return n.a.createElement("div",{className:"score"},n.a.createElement("span",{className:"score__label"},o),n.a.createElement("span",{className:"score__value"},c))}))),X=Object(i.b)(function(e){return{tiles:e.tiles}},function(e){return{initGame:function(){return e(F())},updateTilesPosition:function(t){return e(function(e){return function(t,r){var o=r().emptyFields;t(function(e,t){return{type:"UPDATE_POSITION",payload:{direction:e,emptyFields:t}}}(e,o));var n=r().tiles;t(L(n))}}(t))}}})(function(e){var t=e.initGame,r=e.updateTilesPosition,c=function(){r("left")},s=function(){r("right")},a=function(){r("up")},i=function(){r("down")};return Object(o.useEffect)(function(){t(),document.addEventListener("keydown",function(e){switch(e.keyCode){case 37:c();break;case 38:a();break;case 39:s();break;case 40:i()}})},[]),n.a.createElement(R.a,{onSwipedLeft:c,onSwipedRight:s,onSwipedUp:a,onSwipedDown:i,className:"wrap"},n.a.createElement("h1",{className:"game-header"},"2048"),n.a.createElement("p",{className:"game-description"},"Use Up, Down, Left, Right keys or swipe to play"),n.a.createElement(G,null),n.a.createElement("div",{className:"score-wrap"},n.a.createElement(V,{scoreType:"current"}),n.a.createElement(V,{scoreType:"best"})),n.a.createElement("div",{className:"game__container"},n.a.createElement(A,null),n.a.createElement(C,null)))}),x={key:"root",storage:m.a},B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||a.d,J=Object(u.a)(x,k),H=Object(a.e)(J,B(Object(a.a)(l.a))),Y=Object(u.b)(H);Y.purge(),s.a.render(n.a.createElement(i.a,{store:H},n.a.createElement(P.a,{persistor:Y,loading:null},n.a.createElement(X,null))),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.b8e09d8f.chunk.js.map