(window.webpackJsonp2048=window.webpackJsonp2048||[]).push([[0],{18:function(e,t,o){e.exports=o(39)},23:function(e,t,o){},24:function(e,t,o){},32:function(e,t,o){},33:function(e,t,o){},34:function(e,t,o){},35:function(e,t,o){},36:function(e,t,o){},37:function(e,t,o){},38:function(e,t,o){},39:function(e,t,o){"use strict";o.r(t);var r=o(0),n=o.n(r),c=o(6),s=o.n(c),a=(o(23),o(24),o(2)),l=o(3),i=o(13),u=o(10),P=o(14),p=o(15),m=o.n(p),f=o(5),w=o(17),d={tiles:[],emptyFields:[{rowPos:1,colPos:1,isEmpty:!0},{rowPos:1,colPos:2,isEmpty:!0},{rowPos:1,colPos:3,isEmpty:!0},{rowPos:1,colPos:4,isEmpty:!0},{rowPos:2,colPos:1,isEmpty:!0},{rowPos:2,colPos:2,isEmpty:!0},{rowPos:2,colPos:3,isEmpty:!0},{rowPos:2,colPos:4,isEmpty:!0},{rowPos:3,colPos:1,isEmpty:!0},{rowPos:3,colPos:2,isEmpty:!0},{rowPos:3,colPos:3,isEmpty:!0},{rowPos:3,colPos:4,isEmpty:!0},{rowPos:4,colPos:1,isEmpty:!0},{rowPos:4,colPos:2,isEmpty:!0},{rowPos:4,colPos:3,isEmpty:!0},{rowPos:4,colPos:4,isEmpty:!0}],score:{currentScore:0,bestScore:0},gameStatus:!1};function E(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function y(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?E(o,!0).forEach(function(t){Object(f.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):E(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var O=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},v=function(e){return e[Math.floor(Math.random()*e.length)]},b=function(e,t,o){return e.map(function(e){var r=e;return e.colPos===t.colPos&&e.rowPos===t.rowPos&&(r=y({},r,{isEmpty:!0})),e.colPos===o.colPos&&e.rowPos===o.rowPos&&(r=y({},r,{isEmpty:!1,tileVal:o.tileVal})),r})},g=function(e,t){switch(e){case"left":return t.sort(function(e,t){return e.rowPos!==t.rowPos?e.rowPos-t.rowPos:e.colPos-t.colPos});case"right":return t.sort(function(e,t){return e.rowPos!==t.rowPos?e.rowPos-t.rowPos:t.colPos-e.colPos});case"up":return t.sort(function(e,t){return e.rowPos!==t.rowPos?e.rowPos-t.rowPos:e.colPos-t.colPos});case"down":return t.sort(function(e,t){return e.rowPos!==t.rowPos?t.rowPos-e.rowPos:e.colPos-t.colPos});default:return[]}};function h(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function j(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?h(o,!0).forEach(function(t){Object(f.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):h(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.tiles,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_RANDOM_TILE":var o=t.payload.filter(function(e){return!0===e.isEmpty}),r=v(o);return r?[].concat(Object(w.a)(e),[{rowPos:r.rowPos,colPos:r.colPos,tileVal:v([2,4])}]):e;case"ADD_TILE":return e;case"INIT_FIRST_TILES":for(var n=[],c=function(){var e=O(1,4),t=O(1,4);n.find(function(o){var r=o.rowPos,n=o.colPos;return r===e&&n===t})||n.push({rowPos:e,colPos:t,tileVal:2})};n.length<2;)c();return n;case"UPDATE_POSITION":var s=g(t.payload.direction,e),a=[],l=t.payload.emptyFields,i=s.map(function(e){var o=l.filter(function(t){return t.rowPos===e.rowPos}),r=l.filter(function(t){return t.colPos===e.colPos});switch(t.payload.direction){case"left":for(var n=e.colPos,c=n-2<0?0:n-2;c>=0&&(o[c].colPos!==e.colPos&&o[c].isEmpty);c-=1)n=o[c].colPos;if(n){var s=e.tileVal,i=n-1,u=l.find(function(t){var o=t.rowPos,r=t.colPos,n=t.isEmpty;return r===i&&o===e.rowPos&&!n});return u&&u.tileVal===e.tileVal&&(a.push({rowPos:u.rowPos,colPos:u.colPos,tileVal:u.tileVal}),n=i,s=2*e.tileVal),l=b(l,e,{rowPos:e.rowPos,colPos:n,tileVal:s}),j({},e,{colPos:n,tileVal:s})}return e;case"right":for(var P=e.colPos,p=P;p<4&&(o[p].colPos!==e.colPos&&o[p].isEmpty);p+=1)P=o[p].colPos;if(P){var m=e.tileVal,f=P+1,w=l.find(function(t){var o=t.rowPos,r=t.colPos,n=t.isEmpty;return r===f&&o===e.rowPos&&!n});return w&&w.tileVal===e.tileVal&&(a.push({rowPos:w.rowPos,colPos:w.colPos,tileVal:w.tileVal}),P=f,m=2*e.tileVal),l=b(l,e,{rowPos:e.rowPos,colPos:P,tileVal:m}),j({},e,{colPos:P,tileVal:m})}return e;case"up":for(var d=e.rowPos,E=d-2<0?0:d-2;E>=0&&(r[E].rowPos!==e.rowPos&&r[E].isEmpty);E-=1)d=r[E].rowPos;if(d){var y=e.tileVal,O=d-1,v=l.find(function(t){var o=t.rowPos,r=t.colPos,n=t.isEmpty;return r===e.colPos&&o===O&&!n});return v&&v.tileVal===e.tileVal&&(a.push({rowPos:v.rowPos,colPos:v.colPos,tileVal:v.tileVal}),d=O,y=2*e.tileVal),l=b(l,e,{rowPos:d,colPos:e.colPos,tileVal:y}),j({},e,{rowPos:d,tileVal:y})}return e;case"down":for(var g=e.rowPos,h=g;h<4&&(r[h].rowPos!==e.rowPos&&r[h].isEmpty);h+=1)g=r[h].rowPos;if(g){var S=e.tileVal,N=g+1,_=l.find(function(t){var o=t.rowPos,r=t.colPos,n=t.isEmpty;return r===e.colPos&&o===N&&!n});return _&&_.tileVal===e.tileVal&&(a.push({rowPos:_.rowPos,colPos:_.colPos,tileVal:_.tileVal}),g=N,S=2*e.tileVal),l=b(l,e,{rowPos:g,colPos:e.colPos,tileVal:S}),j({},e,{rowPos:g,tileVal:S})}return e;default:return e}});return i.filter(function(e){var t=a.find(function(t){var o=t.colPos,r=t.rowPos,n=t.tileVal;return e.colPos===o&&e.rowPos===r&&e.tileVal===n});return t?e.rowPos!==t.rowPos&&e.colPos!==t.colPos:e});default:return e}};function N(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function _(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?N(o,!0).forEach(function(t){Object(f.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):N(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.emptyFields,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_EMPTIES":var o=t.payload,r=e.map(function(e){var t=o.find(function(t){var o=t.rowPos,r=t.colPos;return o===e.rowPos&&r===e.colPos});return _({},e,t?{isEmpty:!1}:{isEmpty:!0})});return r;case"INIT_EMPTIES":return d.emptyFields;default:return e}};function D(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function T(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?D(o,!0).forEach(function(t){Object(f.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):D(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.score,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SCORE":var o=e.bestScore,r=e.currentScore+t.payload;return T({},e,{currentScore:r,bestScore:o=o?Math.max(r,o):t.payload});case"CLEAR_CURRENT_SCORE":return T({},e,{currentScore:d.score.currentScore});default:return e}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.gameStatus,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_GAME":return!0;case"FINISH_GAME":return!1;default:return e}},R=Object(a.c)({tiles:S,emptyFields:V,score:I,gameStatus:M}),A=o(16),k=(o(32),o(33),function(){return n.a.createElement("div",{className:"grid"},n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}))}),F=(o(34),o(35),function(e){var t=e.tileVal,o=e.rowPos,r=e.colPos;return n.a.createElement("div",{className:"number number--".concat(t," pos--").concat(o,"-").concat(r)},t)}),L=function(e){var t=e.tiles;return n.a.createElement("div",{className:"grid numbers"},t.map(function(e){return n.a.createElement(F,{key:"".concat(e.rowPos,"-").concat(e.colPos),rowPos:e.rowPos,colPos:e.colPos,tileVal:e.tileVal})}))};L.defaultProps={tiles:[]};var U=Object(l.b)(function(e){return{tiles:e.tiles}})(L),C=(o(36),function(e){return{type:"UPDATE_EMPTIES",payload:e}}),G=function(){return function(e,t){e({type:"INIT_GAME"}),e({type:"CLEAR_CURRENT_SCORE"}),e({type:"INIT_EMPTIES"}),e({type:"INIT_FIRST_TILES"}),e(C(t().tiles))}},X=function(e){var t=e.initGame,o=e.children;return n.a.createElement("button",{type:"button",className:"start-button",onClick:t},o)};X.defaultProps={children:"Start again"};var x=n.a.memo(Object(l.b)(void 0,function(e){return{initGame:function(){return e(G())}}})(X)),B=(o(37),n.a.memo(Object(l.b)(function(e){return{score:e.score}})(function(e){var t=e.score,o=e.scoreType,r="current"===o?"Your score":"Best score",c="current"===o?t.currentScore:t.bestScore;return n.a.createElement("div",{className:"score"},n.a.createElement("span",{className:"score__label"},r),n.a.createElement("span",{className:"score__value"},c))}))),H=(o(38),n.a.memo(function(){return n.a.createElement("div",{className:"game-status"},"END GAME",n.a.createElement(x,null,"Restart"))})),J=Object(l.b)(function(e){return{tiles:e.tiles,gameStatus:e.gameStatus}},function(e){return{initGame:function(){return e(G())},updateTilesPosition:function(t){return e(function(e){return function(t,o){t(function(e,t){return{type:"UPDATE_POSITION",payload:{direction:e,emptyFields:t}}}(e,o().emptyFields)),t(C(o().tiles)),t({type:"ADD_RANDOM_TILE",payload:o().emptyFields}),t(C(o().tiles)),o().emptyFields.filter(function(e){return e.isEmpty}).length||t({type:"FINISH_GAME"})}}(t))}}})(function(e){var t=e.initGame,o=e.updateTilesPosition,c=e.gameStatus,s=function(){o("left")},a=function(){o("right")},l=function(){o("up")},i=function(){o("down")};return Object(r.useEffect)(function(){t(),document.addEventListener("keydown",function(e){switch(e.keyCode){case 37:s();break;case 38:l();break;case 39:a();break;case 40:i()}})},[]),n.a.createElement(A.a,{onSwipedLeft:s,onSwipedRight:a,onSwipedUp:l,onSwipedDown:i,className:"wrap"},n.a.createElement("h1",{className:"game-header"},"2048"),n.a.createElement("p",{className:"game-description"},"Use Up, Down, Left, Right keys or swipe to play"),n.a.createElement(x,null),n.a.createElement("div",{className:"score-wrap"},n.a.createElement(B,{scoreType:"current"}),n.a.createElement(B,{scoreType:"best"})),n.a.createElement("div",{className:"game__container"},n.a.createElement(k,null),n.a.createElement(U,null),c?null:n.a.createElement(H,null)))}),Y={key:"root",storage:m.a},q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||a.d,z=Object(u.a)(Y,R),K=Object(a.e)(z,q(Object(a.a)(i.a))),Q=Object(u.b)(K);Q.purge(),s.a.render(n.a.createElement(l.a,{store:K},n.a.createElement(P.a,{persistor:Q,loading:null},n.a.createElement(J,null))),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.de06eb56.chunk.js.map