(window.webpackJsonp2048=window.webpackJsonp2048||[]).push([[0],{18:function(e,t,r){e.exports=r(39)},23:function(e,t,r){},24:function(e,t,r){},32:function(e,t,r){},33:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){},39:function(e,t,r){"use strict";r.r(t);var o=r(0),n=r.n(o),c=r(6),s=r.n(c),a=(r(23),r(24),r(2)),l=r(3),i=r(13),u=r(10),P=r(14),p=r(15),m=r.n(p),f=r(5),d=r(17),E={tiles:[],emptyFields:[{rowPos:1,colPos:1,isEmpty:!0},{rowPos:1,colPos:2,isEmpty:!0},{rowPos:1,colPos:3,isEmpty:!0},{rowPos:1,colPos:4,isEmpty:!0},{rowPos:2,colPos:1,isEmpty:!0},{rowPos:2,colPos:2,isEmpty:!0},{rowPos:2,colPos:3,isEmpty:!0},{rowPos:2,colPos:4,isEmpty:!0},{rowPos:3,colPos:1,isEmpty:!0},{rowPos:3,colPos:2,isEmpty:!0},{rowPos:3,colPos:3,isEmpty:!0},{rowPos:3,colPos:4,isEmpty:!0},{rowPos:4,colPos:1,isEmpty:!0},{rowPos:4,colPos:2,isEmpty:!0},{rowPos:4,colPos:3,isEmpty:!0},{rowPos:4,colPos:4,isEmpty:!0}],score:{currentScore:0,bestScore:0},gameStatus:!1};function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(r,!0).forEach(function(t){Object(f.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},b=function(e){return e[Math.floor(Math.random()*e.length)]},v=function(e,t,r){return e.map(function(e){return e.colPos===t.colPos&&e.rowPos===t.rowPos?w({},e,{isEmpty:!0}):e.colPos===r.colPos&&e.rowPos===r.rowPos?w({},e,{isEmpty:!1}):e})};function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach(function(t){Object(f.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.tiles,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_RANDOM_TILE":var r=t.payload.filter(function(e){return!0===e.isEmpty}),o=b(r);return o?[].concat(Object(d.a)(e),[{rowPos:o.rowPos,colPos:o.colPos,tileVal:b([2,4])}]):e;case"ADD_TILE":return e;case"INIT_FIRST_TILES":for(var n=[],c=function(){var e=O(1,4),t=O(1,4);n.find(function(r){var o=r.rowPos,n=r.colPos;return o===e&&n===t})||n.push({rowPos:e,colPos:t,tileVal:2})};n.length<2;)c();return n;case"UPDATE_POSITION":var s=[];"left"!==t.payload.direction&&"up"!==t.payload.direction||(s=e.sort(function(e,t){return e.rowPos!==t.rowPos?e.rowPos-t.rowPos:e.colPos-t.colPos})),"right"===t.payload.direction&&(s=e.sort(function(e,t){return e.rowPos!==t.rowPos?e.rowPos-t.rowPos:t.colPos-e.colPos})),"down"===t.payload.direction&&(s=e.sort(function(e,t){return e.rowPos!==t.rowPos?t.rowPos-e.rowPos:e.colPos-t.colPos}));var a=t.payload.emptyFields,l=s.map(function(e){var r=a.filter(function(t){return t.rowPos===e.rowPos}),o=a.filter(function(t){return t.colPos===e.colPos});switch(t.payload.direction){case"left":for(var n=e.colPos,c=n-2<0?0:n-2;c>=0&&(r[c].colPos!==e.colPos&&r[c].isEmpty);c-=1)n=r[c].colPos;return n&&n!==e.colPos?(a=v(a,e,{rowPos:e.rowPos,colPos:n}),j({},e,{colPos:n})):e;case"right":for(var s=e.colPos,l=s;l<4&&(r[l].colPos!==e.colPos&&r[l].isEmpty);l+=1)s=r[l].colPos;return s&&s!==e.colPos?(a=v(a,e,{rowPos:e.rowPos,colPos:s}),j({},e,{colPos:s})):e;case"up":for(var i=e.rowPos,u=i-2<0?0:i-2;u>=0&&(o[u].rowPos!==e.rowPos&&o[u].isEmpty);u-=1)i=o[u].rowPos;return i&&i!==e.rowPos?(a=v(a,e,{rowPos:i,colPos:e.colPos}),j({},e,{rowPos:i})):e;case"down":for(var P=e.rowPos,p=P;p<4&&(o[p].rowPos!==e.rowPos&&o[p].isEmpty);p+=1)P=o[p].rowPos;return P&&P!==e.rowPos?(a=v(a,e,{rowPos:P,colPos:e.colPos}),j({},e,{rowPos:P})):e;default:return e}});return l;default:return e}};function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(r,!0).forEach(function(t){Object(f.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.emptyFields,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_EMPTIES":var r=t.payload,o=e.map(function(e){var t=r.find(function(t){var r=t.rowPos,o=t.colPos;return r===e.rowPos&&o===e.colPos});return N({},e,t?{isEmpty:!1}:{isEmpty:!0})});return o;case"INIT_EMPTIES":return E.emptyFields;default:return e}};function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(r,!0).forEach(function(t){Object(f.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.score,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SCORE":var r=e.bestScore,o=e.currentScore+t.payload;return T({},e,{currentScore:o,bestScore:r=r?Math.max(o,r):t.payload});case"CLEAR_CURRENT_SCORE":return T({},e,{currentScore:E.score.currentScore});default:return e}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.gameStatus,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_GAME":return!0;case"FINISH_GAME":return!1;default:return e}},M=Object(a.c)({tiles:S,emptyFields:_,score:I,gameStatus:A}),R=r(16),k=(r(32),r(33),function(){return n.a.createElement("div",{className:"grid"},n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}),n.a.createElement("div",{className:"grid-cell"}))}),L=(r(34),r(35),function(e){var t=e.tileVal,r=e.rowPos,o=e.colPos;return n.a.createElement("div",{className:"number number--".concat(t," pos--").concat(r,"-").concat(o)},t)}),F=function(e){var t=e.tiles;return n.a.createElement("div",{className:"grid numbers"},t.map(function(e){return n.a.createElement(L,{key:"".concat(e.rowPos,"-").concat(e.colPos),rowPos:e.rowPos,colPos:e.colPos,tileVal:e.tileVal})}))};F.defaultProps={tiles:[]};var U=Object(l.b)(function(e){return{tiles:e.tiles}},function(e){return{addTile:function(t,r,o){return e({type:"ADD_TILE"})}}})(F),C=(r(36),function(e){return{type:"UPDATE_EMPTIES",payload:e}}),G=function(){return function(e,t){e({type:"INIT_GAME"}),e({type:"CLEAR_CURRENT_SCORE"}),e({type:"INIT_EMPTIES"}),e({type:"INIT_FIRST_TILES"}),e(C(t().tiles))}},V=function(e){var t=e.initGame,r=e.children;return n.a.createElement("button",{type:"button",className:"start-button",onClick:t},r)};V.defaultProps={children:"Start again"};var X=n.a.memo(Object(l.b)(void 0,function(e){return{initGame:function(){return e(G())}}})(V)),x=(r(37),n.a.memo(Object(l.b)(function(e){return{score:e.score}})(function(e){var t=e.score,r=e.scoreType,o="current"===r?"Your score":"Best score",c="current"===r?t.currentScore:t.bestScore;return n.a.createElement("div",{className:"score"},n.a.createElement("span",{className:"score__label"},o),n.a.createElement("span",{className:"score__value"},c))}))),B=(r(38),n.a.memo(function(){return n.a.createElement("div",{className:"game-status"},"END GAME",n.a.createElement(X,null,"Restart"))})),H=Object(l.b)(function(e){return{tiles:e.tiles,gameStatus:e.gameStatus}},function(e){return{initGame:function(){return e(G())},updateTilesPosition:function(t){return e(function(e){return function(t,r){t(function(e,t){return{type:"UPDATE_POSITION",payload:{direction:e,emptyFields:t}}}(e,r().emptyFields)),t(C(r().tiles)),t({type:"ADD_RANDOM_TILE",payload:r().emptyFields}),t(C(r().tiles)),r().emptyFields.filter(function(e){return e.isEmpty}).length||t({type:"FINISH_GAME"})}}(t))}}})(function(e){var t=e.initGame,r=e.updateTilesPosition,c=e.gameStatus,s=function(){r("left")},a=function(){r("right")},l=function(){r("up")},i=function(){r("down")};return Object(o.useEffect)(function(){t(),document.addEventListener("keydown",function(e){switch(e.keyCode){case 37:s();break;case 38:l();break;case 39:a();break;case 40:i()}})},[]),n.a.createElement(R.a,{onSwipedLeft:s,onSwipedRight:a,onSwipedUp:l,onSwipedDown:i,className:"wrap"},n.a.createElement("h1",{className:"game-header"},"2048"),n.a.createElement("p",{className:"game-description"},"Use Up, Down, Left, Right keys or swipe to play"),n.a.createElement(X,null),n.a.createElement("div",{className:"score-wrap"},n.a.createElement(x,{scoreType:"current"}),n.a.createElement(x,{scoreType:"best"})),n.a.createElement("div",{className:"game__container"},n.a.createElement(k,null),n.a.createElement(U,null),c?null:n.a.createElement(B,null)))}),J={key:"root",storage:m.a},Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||a.d,q=Object(u.a)(J,M),z=Object(a.e)(q,Y(Object(a.a)(i.a))),K=Object(u.b)(z);s.a.render(n.a.createElement(l.a,{store:z},n.a.createElement(P.a,{persistor:K,loading:null},n.a.createElement(H,null))),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.979f6ede.chunk.js.map