{"version":3,"sources":["Redux/initialState.js","Redux/reducers/tilesReducer.js","Redux/actions.js","Redux/reducers/emptyFieldsReducer.js","Redux/reducers/scoreReducer.js","Redux/reducers/index.js","Components/Field/index.js","Components/Tile/index.js","Components/TilesField/index.js","Redux/actions/tilesActions.js","Components/StartButton/index.js","Redux/actions/scoreActions.js","Components/Score/index.js","Components/App/index.js","Containers/AppContainer.js","index.js"],"names":["initialState","tiles","emptyFields","xPos","yPos","score","currentScore","bestScore","tilesReducer","state","action","type","payload","tileVal","emptyFieldsReducer","scoreReducer","bestScoreValue","currentScoreValue","Math","max","combineReducers","Field","className","Tile","TilesField","map","tile","key","defaultProps","connect","dispatch","addTile","addTileAction","React","memo","initGame","clearScore","onClick","scoreType","scoreLabel","scoreValue","App","updateScore","moveLeft","console","log","moveRight","moveUp","moveDown","useEffect","document","addEventListener","e","keyCode","onSwipedLeft","onSwipedRight","onSwipedUp","onSwipedDown","store","updateScoreAction","persistConfig","storage","persistedReducer","persistReducer","reducer","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","persistor","persistStore","purge","ReactDOM","render","loading","AppContainer","getElementById"],"mappings":"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","file":"static/js/main.ff585688.chunk.js","sourcesContent":["const initialState = {\n  tiles: [],\n  emptyFields: [\n    { xPos: 1, yPos: 1 },\n    { xPos: 1, yPos: 2 },\n    { xPos: 1, yPos: 3 },\n    { xPos: 1, yPos: 4 },\n    { xPos: 2, yPos: 1 },\n    { xPos: 2, yPos: 2 },\n    { xPos: 2, yPos: 3 },\n    { xPos: 2, yPos: 4 },\n    { xPos: 3, yPos: 1 },\n    { xPos: 3, yPos: 2 },\n    { xPos: 3, yPos: 3 },\n    { xPos: 3, yPos: 4 },\n    { xPos: 4, yPos: 1 },\n    { xPos: 4, yPos: 2 },\n    { xPos: 4, yPos: 3 },\n    { xPos: 4, yPos: 4 },\n  ],\n  score: {\n    currentScore: 0,\n    bestScore: 0,\n  },\n};\n\nexport default initialState;\n","import { ADD_TILE, INIT_GAME } from '../actions';\nimport initialState from '../initialState';\n\nconst tilesReducer = (state = initialState.tiles, action) => {\n  switch (action.type) {\n    case ADD_TILE:\n      return [\n        ...state,\n        action.payload,\n      ];\n    case INIT_GAME:\n      return [\n        ...state,\n        {\n          xPos: 1,\n          yPos: 2,\n          tileVal: 2,\n        },\n        {\n          xPos: 3,\n          yPos: 1,\n          tileVal: 2,\n        },\n      ];\n    default:\n      return state;\n  }\n};\n\nexport default tilesReducer;\n","// Game actions\nexport const INIT_GAME = 'INIT_GAME';\nexport const UPDATE_EMPTIES = 'UPDATE_EMPTIES';\n\n// Tiles actions\nexport const UPDATE_POSITION = 'UPDATE_POSITION';\nexport const REMOVE_NUMBER = 'REMOVE_NUMBER';\nexport const ADD_TILE = 'ADD_TILE';\n\n// Score actions\nexport const UPDATE_SCORE = 'UPDATE_SCORE';\nexport const CLEAR_CURRENT_SCORE = 'CLEAR_CURRENT_SCORE';\n","import { UPDATE_EMPTIES } from '../actions';\nimport initialState from '../initialState';\n\nconst emptyFieldsReducer = (state = initialState.emptyFields, action) => {\n  switch (action.type) {\n    case UPDATE_EMPTIES:\n      return [...state];\n    default:\n      return state;\n  }\n};\n\nexport default emptyFieldsReducer;\n","import { UPDATE_SCORE, CLEAR_CURRENT_SCORE } from '../actions';\nimport initialState from '../initialState';\n\nconst scoreReducer = (state = initialState.score, action) => {\n  switch (action.type) {\n    case UPDATE_SCORE: {\n      let bestScoreValue = state.bestScore;\n      const currentScoreValue = state.currentScore + action.payload;\n      if (!bestScoreValue) {\n        bestScoreValue = action.payload;\n      } else {\n        bestScoreValue = Math.max(\n          currentScoreValue,\n          bestScoreValue,\n        );\n      }\n      return {\n        ...state,\n        currentScore: currentScoreValue,\n        bestScore: bestScoreValue,\n      };\n    }\n    case CLEAR_CURRENT_SCORE:\n      return {\n        ...state,\n        currentScore: initialState.score.currentScore,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default scoreReducer;\n","import { combineReducers } from 'redux';\nimport tilesReducer from './tilesReducer';\nimport emptyFieldsReducer from './emptyFieldsReducer';\nimport scoreReducer from './scoreReducer';\n\nexport default combineReducers({\n  tiles: tilesReducer,\n  emptyFields: emptyFieldsReducer,\n  score: scoreReducer,\n});\n","import React from 'react';\n\n// CSS\nimport './styles.css';\n\nconst Field = () => (\n  <div className=\"grid\">\n    <div className=\"grid-cell\" />\n    <div className=\"grid-cell\" />\n    <div className=\"grid-cell\" />\n    <div className=\"grid-cell\" />\n    <div className=\"grid-cell\" />\n    <div className=\"grid-cell\" />\n    <div className=\"grid-cell\" />\n    <div className=\"grid-cell\" />\n    <div className=\"grid-cell\" />\n    <div className=\"grid-cell\" />\n    <div className=\"grid-cell\" />\n    <div className=\"grid-cell\" />\n    <div className=\"grid-cell\" />\n    <div className=\"grid-cell\" />\n    <div className=\"grid-cell\" />\n    <div className=\"grid-cell\" />\n  </div>\n);\n\nexport default Field;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n// CSS\nimport './styles.css';\n\nconst Tile = ({ tileVal, xPos, yPos }) => <div className={`number number--${tileVal} pos--${xPos}-${yPos}`}>{tileVal}</div>;\n\nTile.propTypes = {\n  tileVal: PropTypes.number.isRequired,\n  xPos: PropTypes.number.isRequired,\n  yPos: PropTypes.number.isRequired,\n};\n\nexport default Tile;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n// CSS\nimport './styles.css';\n\n// redux\nimport { connect } from 'react-redux';\nimport { addTileAction } from '../../Redux/actions/tilesActions';\n\n// Components\nimport Tile from '../Tile';\n\nconst TilesField = ({ tiles }) => (\n  <div className=\"grid numbers\">\n\n    { tiles.map((tile) => <Tile key={`${tile.xPos}-${tile.yPos}`} xPos={tile.xPos} yPos={tile.yPos} tileVal={tile.tileVal} />) }\n\n    {/* map numbers from numbers array from state */}\n    {/*<Tile val={2} xPos={1} yPos={1} />*/}\n    {/*<div className=\"number number--2 pos--1-2\">2</div>*/}\n    {/* <div className='number number--4 pos--1-3'>4</div> */}\n    {/* <div className='number number--4 pos--1-4'>4</div> */}\n    {/*<div className=\"number number--8 pos--2-1\">8</div>*/}\n    {/* <div className='number number--8 pos--2-2'>8</div> */}\n    {/*<div className=\"number number--16 pos--2-3\">16</div>*/}\n    {/*<div className=\"number number--16 pos--2-4\">16</div>*/}\n    {/* <div className='number number--32 pos--3-1'>32</div> */}\n    {/*<div className=\"number number--32 pos--3-2\">32</div>*/}\n    {/*<div className=\"number number--64 pos--3-3\">64</div>*/}\n    {/* <div className=\"number number--64 pos--3-4\">64</div> */}\n    {/* <div className=\"number number--128 pos--4-1\">128</div> */}\n    {/* <div className=\"number number--128 pos--4-2\">128</div> */}\n    {/* <div className=\"number number--256 pos--4-3\">256</div> */}\n    {/* <div className=\"number number--256 pos--4-4\">256</div> */}\n    {/* <div className=\"number number--512 pos--4-3\">512</div> */}\n    {/* <div className=\"number number--512 pos--4-4\">512</div> */}\n    {/*<div className=\"number number--1024 pos--4-3\">1024</div>*/}\n    {/* <div className=\"number number--1024 pos--4-4\">1024</div> */}\n    {/* <div className=\"number number--2048 pos--4-3\">2048</div> */}\n    {/* <div className=\"number number--2048 pos--4-4\">2048</div> */}\n  </div>\n);\n\nTilesField.propTypes = {\n  tiles: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.number)),\n // addTile: PropTypes.func.isRequired,\n};\n\nTilesField.defaultProps = {\n  tiles: [],\n};\n\nconst mapStateToProps = (state) => ({ tiles: state.tiles });\nconst mapDispatchToProps = (dispatch) => ({\n  addTile: (xPos, yPos, tileVal) => dispatch(addTileAction(xPos, yPos, tileVal)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TilesField);\n","import { ADD_TILE, INIT_GAME } from '../actions';\n\nexport const addTileAction = (xPos, yPos, tileVal) => ({\n  type: ADD_TILE,\n  payload: { xPos, yPos, tileVal },\n});\n\nexport const initGameAction = () => ({\n  type: INIT_GAME,\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n// CSS\nimport './styles.css';\n\n// redux\nimport { connect } from 'react-redux';\nimport { clearScoreAction } from '../../Redux/actions/scoreActions';\nimport { initGameAction } from '../../Redux/actions/tilesActions';\n\nconst StartButton = ({ clearScore, initGame }) => <button type=\"button\" className=\"start-button\" onClick={initGame}>Start again</button>;\n\nStartButton.propTypes = {\n  clearScore: PropTypes.func.isRequired,\n  initGame: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({ score: state.score });\nconst mapDispatchToProps = (dispatch) => ({\n  initGame: () => dispatch(initGameAction()),\n  clearScore: () => dispatch(clearScoreAction()),\n});\n\nexport default React.memo(connect(mapStateToProps, mapDispatchToProps)(StartButton));\n","import { UPDATE_SCORE, CLEAR_CURRENT_SCORE } from '../actions';\n\nexport const updateScoreAction = (currentScore) => ({\n  type: UPDATE_SCORE,\n  payload: currentScore,\n});\n\nexport const clearScoreAction = () => ({\n  type: CLEAR_CURRENT_SCORE,\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n// CSS\nimport './styles.css';\n\n// redux\nimport { connect } from 'react-redux';\n\nconst Score = ({ score, scoreType }) => {\n  const scoreLabel = scoreType === 'current' ? 'Your score' : 'Best score';\n  const scoreValue = scoreType === 'current' ? score.currentScore : score.bestScore;\n\n  return (\n    <div className=\"score\">\n      <span className=\"score__label\">{scoreLabel}</span>\n      <span className=\"score__value\">{scoreValue}</span>\n    </div>\n  );\n};\n\nScore.propTypes = {\n  score: PropTypes.objectOf(PropTypes.number).isRequired,\n  scoreType: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = (state) => ({ score: state.score });\n\nexport default React.memo(connect(mapStateToProps)(Score));\n","import React, { useEffect } from 'react';\nimport { Swipeable } from 'react-swipeable';\nimport PropTypes from 'prop-types';\n\n// CSS\nimport './styles.css';\n\n// components\nimport Field from '../Field';\nimport TilesField from '../TilesField';\nimport StartButton from '../StartButton';\nimport Score from '../Score';\n\nconst App = ({ updateScore }) => {\n  const moveLeft = () => {\n    updateScore(10);\n    console.log('LEFT');\n  };\n\n  const moveRight = () => {\n    console.log('RIGHT');\n  };\n\n  const moveUp = () => {\n    console.log('UP');\n  };\n\n  const moveDown = () => {\n    console.log('DOWN');\n  };\n\n  useEffect(() => {\n    document.addEventListener('keydown', (e) => {\n      switch (e.keyCode) {\n        case 37:\n          moveLeft();\n          break;\n        case 38:\n          moveUp();\n          break;\n        case 39:\n          moveRight();\n          break;\n        case 40:\n          moveDown();\n          break;\n        default:\n      }\n    });\n  }, []);\n\n  return (\n    <Swipeable\n      onSwipedLeft={moveLeft}\n      onSwipedRight={moveRight}\n      onSwipedUp={moveUp}\n      onSwipedDown={moveDown}\n      className=\"wrap\"\n    >\n      <h1 className=\"game-header\">2048</h1>\n      <p className=\"game-description\">Use Up, Down, Left, Right keys or swipe to play</p>\n      <StartButton />\n      <div className=\"score-wrap\">\n        <Score scoreType=\"current\" />\n        <Score scoreType=\"best\" />\n      </div>\n      <div className=\"game__container\">\n        <Field />\n        <TilesField />\n      </div>\n    </Swipeable>\n  );\n};\n\nApp.propTypes = {\n  updateScore: PropTypes.func.isRequired,\n};\n\nexport default App;\n","import { connect } from 'react-redux';\nimport { updateScoreAction } from '../Redux/actions/scoreActions';\n\nimport App from '../Components/App';\n\nconst mapStateToProps = (state) => ({ score: state.store });\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateScore:\n    (currentScore) => dispatch(updateScoreAction(currentScore)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\n// CSS\nimport './css/variables.css';\nimport './css/common.css';\n\n// redux\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\n\n// redux-persist\nimport { persistStore, persistReducer } from 'redux-persist';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport storage from 'redux-persist/lib/storage';\nimport reducer from './Redux/reducers';\n\nimport AppContainer from './Containers/AppContainer';\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n};\n\nconst persistedReducer = persistReducer(persistConfig, reducer);\nconst store = createStore(\n  persistedReducer,\n  // eslint-disable-next-line no-underscore-dangle\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n);\n\nconst persistor = persistStore(store);\n\npersistor.purge();  //CLEAR redux-persist cache\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate persistor={persistor} loading={null}>\n      <AppContainer />\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}